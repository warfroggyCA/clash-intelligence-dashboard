@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap');

@font-face {
  font-family: 'Clash Display';
  src: url('/assets/clash/Fonts/Clash_Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Clash Display';
  src: url('/assets/clash/Fonts/Clash_Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

:root { 
  color-scheme: dark; 
  --font-size-multiplier: 1;
  /* Shared gradient for header + tabs lip */
  --header-gradient: linear-gradient(120deg, #1E114C 0%, #3F2E90 45%, #FF6B0A 100%);
  
  /* Enhanced Clash of Clans Color Palette */
  --clash-gold: #FFD700;
  --clash-gold-dark: #B8860B;
  --clash-orange: #FF6B0A;
  --clash-orange-dark: #CC5500;
  --clash-purple: #5227FF;
  --clash-purple-dark: #3D1A78;
  --clash-blue: #4A90E2;
  --clash-red: #E74C3C;
  --clash-green: #27AE60;
  
  /* High contrast text colors for accessibility */
  --text-primary: #FFFFFF;
  --text-secondary: #E2E8F0;
  --text-muted: #94A3B8;
  --text-accent: #FFD700;
  
  /* Enhanced background gradients */
  --clash-bg-primary: linear-gradient(135deg, #0E1421 0%, #1A1F3A 50%, #2D1B69 100%);
  --clash-bg-card: linear-gradient(145deg, rgba(18, 27, 54, 0.95), rgba(12, 18, 38, 0.86));
  --clash-bg-glass: linear-gradient(150deg, rgba(18, 27, 54, 0.95), rgba(12, 18, 38, 0.86));
}

/* Light Theme Variables */
[data-theme="light"] {
  color-scheme: light;
  
  /* Light theme header gradient */
  --header-gradient: linear-gradient(120deg, #F8FAFC 0%, #E2E8F0 45%, #FF6B0A 100%);
  
  /* Light theme text colors */
  --text-primary: #1E293B;
  --text-secondary: #475569;
  --text-muted: #64748B;
  --text-accent: #B8860B;
  
  /* Light theme background gradients */
  --clash-bg-primary: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 50%, #F1F5F9 100%);
  --clash-bg-card: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.86));
  --clash-bg-glass: linear-gradient(150deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.86));
}

/* Utility to apply shared header gradient */
.bg-header-gradient {
  background-image: var(--header-gradient);
}

.header-hero {
  position: relative;
  background-image: linear-gradient(120deg, rgba(10,12,28,0.6), rgba(27,19,55,0.65)), url('/assets/clash/header-bg.svg');
  background-size: cover;
  background-position: center;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.04);
}

.header-hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at top right, rgba(255,107,10,0.35), transparent 55%),
              radial-gradient(ellipse at bottom left, rgba(82,39,255,0.4), transparent 60%);
  pointer-events: none;
  opacity: 0.85;
}

body {
  @apply font-body antialiased;
  min-height: 100vh;
  color: var(--text-primary);
  background: var(--clash-bg-primary);
  transition: color 0.3s ease, background 0.3s ease;
}

/* Dark theme body background */
[data-theme="dark"] body {
  background:
    radial-gradient(circle at top left, rgba(82,39,255,0.45), transparent 45%),
    radial-gradient(circle at top right, rgba(255,107,10,0.35), transparent 40%),
    radial-gradient(circle at bottom, rgba(37,99,235,0.25), transparent 45%),
    #0E1421;
}

/* Light theme body background */
[data-theme="light"] body {
  background:
    radial-gradient(circle at top left, rgba(82,39,255,0.15), transparent 45%),
    radial-gradient(circle at top right, rgba(255,107,10,0.15), transparent 40%),
    radial-gradient(circle at bottom, rgba(37,99,235,0.1), transparent 45%),
    #F8FAFC;
}

h1, h2, h3, h4 {
  @apply font-heading;
  color: var(--text-primary);
  transition: color 0.3s ease;
}

a { @apply text-brand-primary; }
table { @apply w-full; }
th { @apply text-left font-semibold; }

/* Font size scaling utility classes */
.text-xs { font-size: calc(0.75rem * var(--font-size-multiplier)); }
.text-sm { font-size: calc(0.875rem * var(--font-size-multiplier)); }
.text-base { font-size: calc(1rem * var(--font-size-multiplier)); }
.text-lg { font-size: calc(1.125rem * var(--font-size-multiplier)); }
.text-xl { font-size: calc(1.25rem * var(--font-size-multiplier)); }
.text-2xl { font-size: calc(1.5rem * var(--font-size-multiplier)); }
.text-3xl { font-size: calc(1.875rem * var(--font-size-multiplier)); }
.text-4xl { font-size: calc(2.25rem * var(--font-size-multiplier)); }

.glass-card {
  position: relative;
  background:
    radial-gradient(140% 130% at 85% -20%, rgba(112, 164, 255, 0.2), transparent 68%),
    radial-gradient(140% 130% at -10% 30%, rgba(255, 132, 92, 0.14), transparent 70%),
    linear-gradient(150deg, rgba(18, 27, 54, 0.95), rgba(12, 18, 38, 0.86));
  border: 1px solid rgba(255,255,255,0.26);
  box-shadow: 0 40px 78px -36px rgba(8, 16, 40, 0.78);
  color: rgba(244, 248, 255, 0.95);
}

.glass-card::before {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  background: linear-gradient(150deg, rgba(255,255,255,0.36), rgba(255,255,255,0.08));
  opacity: 0.42;
  mix-blend-mode: screen;
  pointer-events: none;
}

.glass-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(75% 70% at 20% 10%, rgba(255,255,255,0.26), transparent 68%),
    linear-gradient(170deg, rgba(255,255,255,0.2), transparent 48%);
  opacity: 0.3;
  pointer-events: none;
}

/* Make tooltips appear immediately - override browser default delay */
[title] {
  transition-delay: 0s !important;
  -webkit-transition-delay: 0s !important;
  -moz-transition-delay: 0s !important;
  -ms-transition-delay: 0s !important;
  -o-transition-delay: 0s !important;
}

/* Force immediate tooltip display on hover */
*[title]:hover {
  transition-delay: 0s !important;
  -webkit-transition-delay: 0s !important;
  -moz-transition-delay: 0s !important;
  -ms-transition-delay: 0s !important;
  -o-transition-delay: 0s !important;
}

/* Override browser tooltip timing */
*[title] {
  animation-delay: 0s !important;
  -webkit-animation-delay: 0s !important;
  -moz-animation-delay: 0s !important;
  -ms-animation-delay: 0s !important;
  -o-animation-delay: 0s !important;
}

/* Enhanced Accessibility & Contrast Utilities */
.text-high-contrast {
  color: var(--text-primary);
}

.text-medium-contrast {
  color: var(--text-secondary);
}

.text-muted-contrast {
  color: var(--text-muted);
}

.text-accent-contrast {
  color: var(--text-accent);
}

/* Enhanced focus states for accessibility */
.focus-ring {
  @apply focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-offset-slate-900;
  --tw-ring-color: rgba(255, 107, 10, 0.5);
}

.focus-ring-inset {
  @apply focus:outline-none focus:ring-2 focus:ring-inset;
  --tw-ring-color: rgba(255, 107, 10, 0.5);
}

/* Clash of Clans themed components */
.clash-button {
  @apply px-4 py-2 rounded-lg font-semibold transition-all duration-200;
  @apply text-white;
  @apply hover:scale-105 active:scale-95;
  @apply focus-ring;
  @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  background-color: var(--clash-orange);
}

.clash-button:hover {
  background-color: var(--clash-orange-dark);
}

.clash-button-outline {
  @apply px-4 py-2 rounded-lg font-semibold transition-all duration-200;
  @apply border-2 bg-transparent;
  @apply hover:text-black;
  @apply focus-ring;
  border-color: var(--clash-gold);
  color: var(--clash-gold);
}

.clash-button-outline:hover {
  background-color: var(--clash-gold);
}

.clash-card {
  @apply relative overflow-hidden rounded-2xl border;
  background: var(--clash-bg-glass);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border-color: rgba(255, 215, 0, 0.2);
}

.clash-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), transparent 50%);
  pointer-events: none;
}

/* Enhanced table styling */
.clash-table {
  @apply w-full text-sm;
}

.clash-table th {
  @apply text-left font-semibold px-4 py-2;
  @apply border-b;
  color: var(--clash-gold);
  background-color: rgba(30, 41, 59, 0.5);
  border-color: rgba(255, 215, 0, 0.2);
  transition: all 0.3s ease;
}

.clash-table td {
  @apply px-4 py-2 border-b;
  color: var(--text-primary);
  border-color: rgba(100, 116, 139, 0.5);
  transition: all 0.3s ease;
}

.clash-table tr:hover {
  background-color: rgba(255, 215, 0, 0.05);
}

/* Light theme table styles */
[data-theme="light"] .clash-table th {
  background-color: rgba(248, 250, 252, 0.8);
  border-color: rgba(184, 134, 11, 0.3);
}

[data-theme="light"] .clash-table td {
  border-color: rgba(148, 163, 184, 0.3);
}

[data-theme="light"] .clash-table tr:hover {
  background-color: rgba(184, 134, 11, 0.05);
}

/* Mobile-first responsive utilities */
@media (max-width: 640px) {
  .mobile-stack {
    @apply flex-col gap-4;
  }
  
  .mobile-full-width {
    @apply w-full;
  }
  
  .mobile-text-sm {
    @apply text-sm;
  }
  
  .mobile-p-3 {
    @apply p-3;
  }
}
