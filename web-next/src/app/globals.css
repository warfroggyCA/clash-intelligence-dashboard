@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

@font-face {
  font-family: 'Clash Display';
  src: url('/assets/clash/Fonts/Clash_Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Clash Display';
  src: url('/assets/clash/Fonts/Clash_Bold.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

:root { 
  color-scheme: dark; 
  --font-size-multiplier: 1;
  /* Header height for sticky positioning */
  --header-height: 80px;
  /* Shared gradient for header + tabs lip */
  --header-gradient: linear-gradient(130deg, #151C2C 0%, #1E293E 55%, #283654 100%);
  
  /* Enhanced Clash of Clans Color Palette */
  --clash-gold: #FFD700;
  --clash-gold-dark: #B8860B;
  --clash-orange: #FF6B0A;
  --clash-orange-dark: #CC5500;
  --clash-purple: #5227FF;
  --clash-purple-dark: #3D1A78;
  --clash-blue: #4A90E2;
  --clash-red: #E74C3C;
  --clash-green: #27AE60;
  
  /* High contrast text colors for accessibility */
  --text-primary: #FFFFFF;
  --text-secondary: #E2E8F0;
  --text-muted: #B4C4D8; /* 4.7:1 contrast ratio */
  --text-accent: #FFD700;
  
  /* Enhanced background gradients */
  --clash-bg-primary: linear-gradient(155deg, #0B1220 0%, #10192A 50%, #131E31 100%);
  --clash-bg-card: linear-gradient(140deg, rgba(18, 25, 40, 0.92), rgba(15, 22, 36, 0.9));
  --clash-bg-glass: linear-gradient(145deg, rgba(18, 25, 40, 0.85), rgba(15, 22, 36, 0.88));
}

/* Light Theme Variables */
[data-theme="light"] {
  color-scheme: light;
  
  /* Light theme header gradient - much lighter */
  --header-gradient: linear-gradient(120deg, #FFFFFF 0%, #F8FAFC 45%, #FF6B0A 100%);
  
  /* Light theme text colors - proper contrast ratios */
  --text-primary: #0F172A;        /* Very dark for high contrast */
  --text-secondary: #334155;      /* Dark gray for good contrast */
  --text-muted: #64748B;          /* Medium gray for secondary text */
  --text-accent: #B8860B;         /* Gold accent */
  
  /* Light theme background gradients - much lighter */
  --clash-bg-primary: linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 50%, #F1F5F9 100%);
  --clash-bg-card: linear-gradient(145deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.95));
  --clash-bg-glass: linear-gradient(150deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.95));
}

/* Utility to apply shared header gradient */
.bg-header-gradient {
  background-image: var(--header-gradient);
}

.header-hero {
  position: sticky;
  top: 0;
  z-index: 50;
  background: linear-gradient(135deg, rgba(14, 20, 33, 0.92), rgba(19, 28, 47, 0.94));
  box-shadow: inset 0 -1px 0 rgba(148, 163, 184, 0.05);
}

.header-hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at top right, rgba(123, 91, 255, 0.22), transparent 55%),
              radial-gradient(ellipse at bottom left, rgba(91, 127, 255, 0.28), transparent 60%);
  pointer-events: none;
  opacity: 0.75;
}


body {
  @apply font-body antialiased;
  min-height: 100vh;
  color: var(--text-primary);
  background: var(--clash-bg-primary);
  transition: color 0.3s ease, background 0.3s ease;
}

/* Dark theme body background */
[data-theme="dark"] body {
  background: linear-gradient(155deg, #0B1220 0%, #10192A 48%, #131E31 100%);
}

/* Light theme body background */
[data-theme="light"] body {
  background:
    linear-gradient(180deg, #FFFFFF 0%, #F7FAFF 50%, #EEF2F7 100%);
  color: #1F2A44;
}

/* Light theme: main content background should be light */
[data-theme="light"] .dashboard-main {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.86) 0%, rgba(255, 255, 255, 0.72) 60%, rgba(248, 250, 252, 0.9) 100%) !important;
  border-color: rgba(148, 163, 184, 0.22) !important;
}

.tooltip-trigger[data-tooltip] {
  position: relative;
}

.tooltip-trigger[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 0.5rem);
  left: 50%;
  transform: translateX(-50%);
  background: rgba(15, 23, 42, 0.95);
  color: #f8fafc;
  padding: 0.55rem 0.9rem;
  border-radius: 0.65rem;
  font-size: 0.78rem;
  line-height: 1.15rem;
  white-space: normal;
  text-align: center;
  max-width: min(24rem, 85vw);
  min-width: min(16rem, 85vw);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.08s ease;
  z-index: 2000;
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.32);
  border: 1px solid rgba(148, 163, 184, 0.35);
}

/* Show tooltips BELOW for table headers since they're at the top */
thead th.tooltip-trigger[data-tooltip]::after {
  bottom: auto;
  top: calc(100% + 0.5rem);
}

.tooltip-trigger[data-tooltip]:hover::after,
.tooltip-trigger[data-tooltip]:focus-visible::after {
  opacity: 1;
}

/* Light theme: clash gold text on light background should be darker for readability */
[data-theme="light"] .text-clash-gold {
  color: #8C6A00 !important; /* darken gold on white */
}

[data-theme="light"] .border-clash-gold\/30 { border-color: rgba(184, 134, 11, 0.35) !important; }
[data-theme="light"] .border-clash-gold\/50 { border-color: rgba(184, 134, 11, 0.5) !important; }
[data-theme="light"] .from-clash-gold\/20 { --tw-gradient-from: rgba(255, 215, 0, 0.18) !important; }
[data-theme="light"] .to-clash-orange\/20 { --tw-gradient-to: rgba(255, 107, 10, 0.18) !important; }

/* Dark theme dropdown hover override for components using hover:bg-slate-50 */
[data-theme="dark"] .hover\:bg-slate-50:hover {
  background-color: rgba(51, 65, 85, 0.6) !important; /* slate-700 */
  color: #E2E8F0 !important;
}

/* Actions menu theming */
[data-theme="light"] .actions-menu-panel {
  background-color: #FFFFFF !important;
  color: #0F172A !important;
  border-color: #E2E8F0 !important;
}

[data-theme="dark"] .actions-menu-panel {
  background-color: #0F172A !important;
  color: #E2E8F0 !important;
  border-color: rgba(148,163,184,0.3) !important;
}

[data-theme="light"] .actions-menu-item {
  color: #0F172A !important;
}

[data-theme="dark"] .actions-menu-item {
  color: #E2E8F0 !important;
}

h1, h2, h3, h4 {
  @apply font-heading;
  color: var(--text-primary);
  transition: color 0.3s ease;
}

a { @apply text-brand-primary; }
table { @apply w-full; }
th { @apply text-left font-semibold; }

/* Font size scaling utility classes */
.text-xs { font-size: calc(0.75rem * var(--font-size-multiplier)); }
.text-sm { font-size: calc(0.875rem * var(--font-size-multiplier)); }
.text-base { font-size: calc(1rem * var(--font-size-multiplier)); }
.text-lg { font-size: calc(1.125rem * var(--font-size-multiplier)); }
.text-xl { font-size: calc(1.25rem * var(--font-size-multiplier)); }
.text-2xl { font-size: calc(1.5rem * var(--font-size-multiplier)); }
.text-3xl { font-size: calc(1.875rem * var(--font-size-multiplier)); }
.text-4xl { font-size: calc(2.25rem * var(--font-size-multiplier)); }

.glass-card {
  position: relative;
  background: linear-gradient(160deg, rgba(17, 24, 39, 0.92), rgba(13, 19, 33, 0.88));
  border: 1px solid rgba(148, 163, 184, 0.14);
  box-shadow: 0 24px 48px -28px rgba(8, 15, 31, 0.75);
  color: rgba(226, 232, 240, 0.95);
}

.stat-tile {
  background: linear-gradient(160deg, rgba(16, 24, 39, 0.92), rgba(12, 18, 33, 0.88));
  border: 1px solid rgba(148, 163, 184, 0.18);
  box-shadow: 0 18px 34px -24px rgba(8, 15, 31, 0.7);
  color: rgba(226, 232, 240, 0.95);
}

.player-card {
  background: linear-gradient(160deg, rgba(16, 24, 39, 0.92), rgba(12, 18, 33, 0.88));
  border: 1px solid rgba(148, 163, 184, 0.18);
  box-shadow: 0 18px 34px -24px rgba(8, 15, 31, 0.7);
  color: rgba(226, 232, 240, 0.95);
}

.hero-progress-track {
  background-color: rgba(255, 255, 255, 0.12);
  border: 1px solid rgba(255, 215, 0, 0.3);
}

.player-card__hero-section {
  background-color: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(148, 163, 184, 0.18);
}

.player-card__chip {
  background-color: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(148, 163, 184, 0.2);
  color: rgba(226, 232, 240, 0.95);
}

.player-card__chip--positive {
  background-color: rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.35);
  color: #bbf7d0;
}

.player-card__chip--warning {
  background-color: rgba(251, 191, 36, 0.2);
  border-color: rgba(251, 191, 36, 0.35);
  color: #fde68a;
}

.player-card__chip--muted {
  background-color: rgba(148, 163, 184, 0.18);
  border-color: rgba(148, 163, 184, 0.3);
  color: rgba(226, 232, 240, 0.85);
}

.player-card__action-button {
  border-color: rgba(148, 163, 184, 0.35) !important;
  color: rgba(226, 232, 240, 0.95) !important;
  background-color: rgba(15, 23, 42, 0.45) !important;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.player-card__action-button:hover {
  background-color: rgba(37, 47, 66, 0.65) !important;
}

.view-toggle-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-weight: 600;
  border-width: 1px;
  text-transform: none;
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

.view-toggle-btn svg {
  height: 1rem;
  width: 1rem;
}

.view-toggle-btn:not(.view-toggle-btn--active) {
  color: rgba(226, 232, 240, 0.85) !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
  background-color: rgba(15, 23, 42, 0.32) !important;
}

.view-toggle-btn:not(.view-toggle-btn--active):hover,
.view-toggle-btn:not(.view-toggle-btn--active):focus-visible {
  color: rgba(248, 250, 252, 0.95) !important;
  border-color: rgba(148, 163, 184, 0.55) !important;
  background-color: rgba(30, 41, 59, 0.6) !important;
}

.view-toggle-btn--active {
  box-shadow: 0 12px 24px -16px rgba(59, 130, 246, 0.4);
}

[data-theme="light"] .view-toggle-btn:not(.view-toggle-btn--active) {
  color: #1F2A44 !important;
  border-color: rgba(203, 213, 225, 0.55) !important;
  background-color: #FFFFFF !important;
  box-shadow: 0 6px 16px -12px rgba(15, 23, 42, 0.18);
}

[data-theme="light"] .view-toggle-btn:not(.view-toggle-btn--active):hover,
[data-theme="light"] .view-toggle-btn:not(.view-toggle-btn--active):focus-visible {
  color: #0F172A !important;
  border-color: rgba(148, 163, 184, 0.6) !important;
  background-color: #F1F5F9 !important;
}

/* Light theme glass-card styling */
[data-theme="light"] .glass-card {
  background: #FFFFFF !important;
  border: 1px solid rgba(203, 213, 225, 0.55) !important;
  color: #1F2A44 !important;
  box-shadow: 0 10px 22px -16px rgba(15, 23, 42, 0.16);
}

[data-theme="light"] .player-card {
  background: #FFFFFF !important;
  border-color: rgba(203, 213, 225, 0.55) !important;
  box-shadow: 0 14px 26px -20px rgba(15, 23, 42, 0.16) !important;
  color: #1F2A44 !important;
}

/* Force text colors in light theme glass cards */
[data-theme="light"] .glass-card .text-high-contrast,
[data-theme="light"] .glass-card .text-medium-contrast,
[data-theme="light"] .glass-card .text-muted-contrast {
  color: var(--text-primary) !important;
}

[data-theme="light"] .glass-card h1,
[data-theme="light"] .glass-card h2,
[data-theme="light"] .glass-card h3,
[data-theme="light"] .glass-card h4,
[data-theme="light"] .glass-card h5,
[data-theme="light"] .glass-card h6 {
  color: var(--text-primary) !important;
}

[data-theme="light"] .glass-card p,
[data-theme="light"] .glass-card span,
[data-theme="light"] .glass-card div {
  color: #1F2A44 !important;
}

[data-theme="light"] .glass-card .text-slate-200,
[data-theme="light"] .glass-card .text-slate-300,
[data-theme="light"] .glass-card .text-slate-400,
[data-theme="light"] .glass-card .text-slate-500,
[data-theme="light"] .glass-card .text-slate-600,
[data-theme="light"] .glass-card .text-muted-contrast {
  color: #30415F !important;
}

[data-theme="light"] .glass-card .uppercase {
  color: #2A3B57 !important;
  letter-spacing: 0.18em;
}

[data-theme="light"] .glass-card .uppercase.text-slate-400 {
  color: #2E4060 !important;
}

[data-theme="light"] .stat-tile {
  background: #FFFFFF !important;
  border-color: rgba(209, 213, 219, 0.55) !important;
  box-shadow: 0 8px 18px -14px rgba(15, 23, 42, 0.15);
  color: #1F2A44 !important;
}

[data-theme="light"] .stat-tile .text-muted {
  color: #4A5D7C !important;
}

[data-theme="light"] .hero-progress-track {
  background-color: rgba(226, 232, 240, 0.45) !important;
  border-color: rgba(203, 213, 225, 0.55) !important;
}

[data-theme="light"] .player-card__hero-section {
  background-color: rgba(244, 248, 255, 0.78) !important;
  border-color: rgba(203, 213, 225, 0.45) !important;
}

[data-theme="light"] .player-card__chip {
  background-color: rgba(236, 241, 255, 0.7) !important;
  border-color: rgba(203, 213, 225, 0.5) !important;
  color: #1F2A44 !important;
}

[data-theme="light"] .player-card__chip--positive {
  background-color: rgba(16, 185, 129, 0.15) !important;
  border-color: rgba(16, 185, 129, 0.35) !important;
  color: #047857 !important;
}

[data-theme="light"] .player-card__chip--warning {
  background-color: rgba(251, 191, 36, 0.18) !important;
  border-color: rgba(251, 191, 36, 0.35) !important;
  color: #B45309 !important;
}

[data-theme="light"] .player-card__chip--muted {
  background-color: rgba(226, 232, 240, 0.6) !important;
  border-color: rgba(203, 213, 225, 0.5) !important;
  color: #475569 !important;
}

[data-theme="light"] .player-card__action-button {
  border-color: rgba(203, 213, 225, 0.55) !important;
  color: #1F2A44 !important;
  background-color: #FFFFFF !important;
  box-shadow: 0 6px 12px -10px rgba(15, 23, 42, 0.15);
}

[data-theme="light"] .player-card__action-button:hover {
  background-color: #F1F5F9 !important;
  color: #0F172A !important;
}

.glass-card::before {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  background: transparent;
  opacity: 1;
  mix-blend-mode: normal;
  pointer-events: none;
}

.glass-card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: transparent;
  opacity: 1;
  pointer-events: none;
}

[data-theme="light"] .glass-card::before {
  display: none;
}

[data-theme="light"] .glass-card::after {
  display: none;
}

/* Make tooltips appear immediately - override browser default delay */
[title] {
  transition-delay: 0s !important;
  -webkit-transition-delay: 0s !important;
  -moz-transition-delay: 0s !important;
  -ms-transition-delay: 0s !important;
  -o-transition-delay: 0s !important;
}

/* Force immediate tooltip display on hover */
*[title]:hover {
  transition-delay: 0s !important;
  -webkit-transition-delay: 0s !important;
  -moz-transition-delay: 0s !important;
  -ms-transition-delay: 0s !important;
  -o-transition-delay: 0s !important;
}

/* Override browser tooltip timing */
*[title] {
  animation-delay: 0s !important;
  -webkit-animation-delay: 0s !important;
  -moz-animation-delay: 0s !important;
  -ms-animation-delay: 0s !important;
  -o-animation-delay: 0s !important;
}

/* Enhanced Accessibility & Contrast Utilities */
.text-high-contrast {
  color: var(--text-primary);
}

.text-medium-contrast {
  color: var(--text-secondary);
}

.text-muted-contrast {
  color: var(--text-muted);
}

.text-accent-contrast {
  color: var(--text-accent);
}

/* Enhanced focus states for accessibility */
.focus-ring {
  @apply focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-offset-slate-900;
  --tw-ring-color: rgba(59, 130, 246, 0.7);
}

.focus-ring-inset {
  @apply focus:outline-none focus:ring-2 focus:ring-inset;
  --tw-ring-color: rgba(59, 130, 246, 0.7);
}

/* Clash of Clans themed components */
.clash-button {
  @apply px-4 py-2 rounded-lg font-semibold transition-all duration-200;
  @apply text-white;
  @apply hover:scale-105 active:scale-95;
  @apply focus-ring;
  @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  background-color: var(--clash-orange);
}

.clash-button:hover {
  background-color: var(--clash-orange-dark);
}

.clash-button-outline {
  @apply px-4 py-2 rounded-lg font-semibold transition-all duration-200;
  @apply border-2 bg-transparent;
  @apply hover:text-black;
  @apply focus-ring;
  border-color: var(--clash-gold);
  color: var(--clash-gold);
}

.clash-button-outline:hover {
  background-color: var(--clash-gold);
}

.player-name-link {
  color: var(--player-name-color, #ffffff);
  text-decoration: none;
}

.player-name-link:hover,
.player-name-link:focus {
  color: var(--player-name-hover, #e2e8f0);
}

.theme-input {
  background-color: #ffffff;
  color: #1e293b;
  border: 1px solid rgba(148, 163, 184, 0.35);
}

.theme-input::placeholder {
  color: #94a3b8;
}

[data-theme="dark"] .theme-input {
  background-color: rgba(15, 23, 42, 0.92);
  color: #f8fafc;
  border-color: rgba(148, 163, 184, 0.35);
}

[data-theme="dark"] .theme-input::placeholder {
  color: rgba(148, 163, 184, 0.7);
}

.clash-card {
  @apply relative rounded-2xl border;
  overflow: visible;
  background: var(--clash-bg-card);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  border-color: rgba(255, 255, 255, 0.1);
}

.clash-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: transparent;
  pointer-events: none;
}

/* Enhanced table styling */
.clash-table {
  @apply w-full text-sm;
}

.clash-table th {
  @apply text-left font-semibold px-4 py-2;
  @apply border-b;
  color: var(--clash-gold);
  background-color: rgba(30, 41, 59, 0.5);
  border-color: rgba(255, 215, 0, 0.2);
  transition: all 0.3s ease;
}

.clash-table td {
  @apply px-4 py-2 border-b;
  color: var(--text-primary);
  border-color: rgba(100, 116, 139, 0.5);
  transition: all 0.3s ease;
}

.clash-table tr:hover {
  background-color: rgba(255, 215, 0, 0.05);
}

/* Ensure no default alternating row colors */
.clash-table tr {
  background-color: transparent;
}

/* Full-width responsive roster table container */
.roster-table-container {
  width: 100%;
  max-width: 100%;
  position: relative;
}

.roster-table-container .clash-card {
  width: 100%;
  min-width: 100%;
}

.roster-table-container .clash-table {
  width: 100%;
  min-width: max-content;
  table-layout: auto;
}

/* Smooth horizontal scrolling on desktop */
@media (min-width: 1024px) {
  .roster-table-container {
    overflow-x: auto;
    overflow-y: visible;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(148, 163, 184, 0.5) rgba(15, 23, 42, 0.3);
  }

  .roster-table-container::-webkit-scrollbar {
    height: 12px;
  }

  .roster-table-container::-webkit-scrollbar-track {
    background: rgba(15, 23, 42, 0.3);
    border-radius: 6px;
  }

  .roster-table-container::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.5);
    border-radius: 6px;
    border: 2px solid rgba(15, 23, 42, 0.3);
  }

  .roster-table-container::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.7);
  }
}

/* Light theme scrollbar */
[data-theme="light"] .roster-table-container {
  scrollbar-color: rgba(100, 116, 139, 0.5) rgba(226, 232, 240, 0.5);
}

[data-theme="light"] .roster-table-container::-webkit-scrollbar-track {
  background: rgba(226, 232, 240, 0.5);
}

[data-theme="light"] .roster-table-container::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.5);
  border-color: rgba(226, 232, 240, 0.5);
}

[data-theme="light"] .roster-table-container::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.7);
}

/* Light theme table styles */
[data-theme="light"] .clash-table th {
  background-color: #F3F6FF;
  border-color: rgba(148, 163, 184, 0.35);
  color: #243659;
  font-weight: 600;
}

[data-theme="light"] .clash-table td {
  border-color: rgba(148, 163, 184, 0.3);
  color: #1E293B;
  background-color: rgba(255, 255, 255, 0.9);
}

[data-theme="light"] .clash-table tr:hover {
  background-color: rgba(59, 130, 246, 0.08);
}

[data-theme="light"] .clash-table tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.85);
}

/* Dark theme table styles */
[data-theme="dark"] .clash-table th {
  background-color: rgba(30, 41, 59, 0.9) !important;
  border-color: rgba(255, 215, 0, 0.3) !important;
  color: #FBBF24 !important;
}

[data-theme="dark"] .clash-table td {
  background-color: transparent !important;
  border-color: rgba(100, 116, 139, 0.3) !important;
  color: #F1F5F9 !important;
}

[data-theme="dark"] .clash-table tr {
  background-color: transparent !important;
}

[data-theme="dark"] .clash-table tr:nth-child(even) {
  background-color: transparent !important;
}

[data-theme="dark"] .clash-table tr:nth-child(odd) {
  background-color: transparent !important;
}

[data-theme="dark"] .clash-table tr:hover {
  background-color: rgba(255, 215, 0, 0.1) !important;
}

/* Dark theme clash-card */
[data-theme="dark"] .clash-card {
  background: linear-gradient(145deg, rgba(18, 27, 54, 0.95), rgba(12, 18, 38, 0.86)) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="light"] .clash-card {
  background: #ffffff !important;
  border-color: rgba(148, 163, 184, 0.32) !important;
  box-shadow: 0 18px 36px -28px rgba(15, 23, 42, 0.2) !important;
}

.role-badge {
  background-color: rgba(31, 41, 55, 0.92);
  border-color: rgba(55, 65, 81, 0.95);
  color: #F8FAFC;
  letter-spacing: 0.02em;
}

.role-badge__label {
  color: inherit;
}

.role-badge--member {
  background-color: rgba(31, 41, 55, 0.65);
  border-color: rgba(51, 65, 85, 0.8);
}

.role-badge--leader {
  background: linear-gradient(135deg, #FACC15, #F97316);
  border-color: rgba(250, 204, 21, 0.9);
  color: #111827;
}

.role-badge--coleader {
  background: linear-gradient(135deg, #8B5CF6, #6366F1);
  border-color: rgba(99, 102, 241, 0.9);
}

.role-badge--elder {
  background: linear-gradient(135deg, #38BDF8, #2563EB);
  border-color: rgba(59, 130, 246, 0.85);
}

[data-theme="light"] .role-badge {
  background-color: rgba(226, 232, 240, 0.9) !important;
  border-color: rgba(203, 213, 225, 0.85) !important;
  color: #1E293B !important;
}

[data-theme="light"] .role-badge--member {
  background-color: rgba(226, 232, 240, 0.7) !important;
  border-color: rgba(203, 213, 225, 0.8) !important;
  color: #1F2937 !important;
}

[data-theme="light"] .role-badge--leader {
  background: linear-gradient(135deg, #FACC15, #F97316) !important;
  border-color: rgba(251, 191, 36, 0.85) !important;
  color: #111827 !important;
}

[data-theme="light"] .role-badge--coleader {
  background: linear-gradient(135deg, #C7D2FE, #6366F1) !important;
  border-color: rgba(99, 102, 241, 0.6) !important;
  color: #1E1B4B !important;
}

[data-theme="light"] .role-badge--elder {
  background: linear-gradient(135deg, #BFDBFE, #3B82F6) !important;
  border-color: rgba(59, 130, 246, 0.6) !important;
  color: #0F172A !important;
}

/* Player name color variables */
:root {
  --player-name-color: #1e40af; /* Dark blue for light mode */
  --player-name-hover: #1e3a8a;
  --text-primary: #1e40af; /* Default dark blue text for light mode */
  --text-secondary: #374151; /* Secondary text color for light mode */
  --text-muted: #6b7280; /* Muted text color for light mode */
}

[data-theme="dark"] {
  --player-name-color: #ffffff; /* High contrast for dark mode */
  --player-name-hover: #e2e8f0;
  --text-primary: #f1f5f9; /* Default light text for dark mode */
  --text-secondary: #cbd5e1; /* Secondary text color for dark mode */
  --text-muted: #94a3b8; /* Muted text color for dark mode */
}


/* Tab navigation */
[data-theme="light"] .tab-navigation button {
  color: #1E3A8A !important;
}

/* Dark theme tab navigation */
[data-theme="dark"] .tab-navigation button {
  color: #E2E8F0 !important;
}

[data-theme="dark"] .tab-navigation button:not(.active) {
  background-color: rgba(30, 41, 59, 0.6) !important;
  border-color: rgba(100, 116, 139, 0.4) !important;
  color: #CBD5E1 !important;
}

[data-theme="dark"] .tab-navigation button:not(.active):hover {
  background-color: rgba(30, 41, 59, 0.8) !important;
  color: #F1F5F9 !important;
}

[data-theme="dark"] .tab-navigation button.active {
  background: linear-gradient(135deg, #3B82F6, #6366F1) !important;
  color: #FFFFFF !important;
  border-color: #60A5FA !important;
}

[data-theme="light"] .tab-navigation button:not(.active) {
  background-color: rgba(226, 232, 240, 0.65) !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
  color: #475569 !important;
}

[data-theme="light"] .tab-navigation button:not(.active):hover {
  background-color: rgba(226, 232, 240, 0.9) !important;
  color: #1E293B !important;
}

[data-theme="light"] .tab-navigation button.active {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.92), rgba(99, 102, 241, 0.88)) !important;
  color: #FFFFFF !important;
  border-color: rgba(99, 102, 241, 0.65) !important;
  box-shadow: 0 12px 22px -16px rgba(37, 99, 235, 0.35);
}

/* Light theme general component styles */
[data-theme="light"] .bg-slate-800 {
  background-color: #F8FAFC !important;
  color: #0F172A !important;
}

[data-theme="light"] .bg-slate-800\/30 {
  background-color: rgba(226, 232, 240, 0.55) !important;
  color: #0F172A !important;
}

[data-theme="light"] .bg-slate-800\/20 {
  background-color: rgba(203, 213, 225, 0.35) !important;
  color: #0F172A !important;
}

[data-theme="light"] .bg-slate-700 {
  background-color: #E2E8F0 !important;
  color: #0F172A !important;
  border-color: rgba(148, 163, 184, 0.4) !important;
}

[data-theme="light"] .bg-slate-600 {
  background-color: #CBD5E1 !important;
  color: #0F172A !important;
}

[data-theme="light"] .text-slate-100 {
  color: #0F172A !important;
}

[data-theme="light"] .text-slate-100,
[data-theme="light"] .text-slate-200,
[data-theme="light"] .text-slate-300,
[data-theme="light"] .text-slate-400,
[data-theme="light"] .text-slate-500,
[data-theme="light"] .text-slate-600,
[data-theme="light"] .text-slate-700,
[data-theme="light"] .text-slate-800,
[data-theme="light"] .text-slate-900 {
  color: #1F2A44 !important;
}

/* Light theme border colors */
[data-theme="light"] .border-slate-600 {
  border-color: #CBD5E1 !important;
}

[data-theme="light"] .border-slate-700 {
  border-color: #94A3B8 !important;
}

[data-theme="light"] .border-slate-800 {
  border-color: #64748B !important;
}

[data-theme="light"] .border-slate-800\/70,
[data-theme="light"] .border-slate-800\/60 {
  border-color: rgba(100, 116, 139, 0.4) !important;
}

[data-theme="light"] .bg-slate-900\/90 {
  background-color: rgba(255, 255, 255, 0.85) !important;
  color: #0F172A !important;
  border-color: rgba(148, 163, 184, 0.28) !important;
}


[data-theme="light"] .text-white {
  color: #0F172A !important;
}

/* Keep header text white in light theme */
[data-theme="light"] .border-white\/30 { border-color: rgba(15, 23, 42, 0.2) !important; }
[data-theme="light"] .border-white\/20 { border-color: rgba(15, 23, 42, 0.15) !important; }
[data-theme="light"] .border-white\/15 { border-color: rgba(15, 23, 42, 0.12) !important; }
[data-theme="light"] .border-white\/10 { border-color: rgba(15, 23, 42, 0.1) !important; }
[data-theme="light"] .bg-white\/20 { background-color: rgba(255,255,255,0.6) !important; color: #0F172A !important; }
[data-theme="light"] .bg-white\/15 { background-color: rgba(255,255,255,0.55) !important; color: #0F172A !important; }
[data-theme="light"] .bg-white\/10 { background-color: rgba(255,255,255,0.5) !important; color: #0F172A !important; }


/* Mobile-first responsive utilities */
@media (max-width: 640px) {
  .mobile-stack {
    @apply flex-col gap-4;
  }
  
  .mobile-full-width {
    @apply w-full;
  }
  
  .mobile-text-sm {
    @apply text-sm;
  }
  
  .mobile-p-3 {
    @apply p-3;
  }
}
.metric-label {
  font-size: 0.75rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(71, 85, 105, 0.85);
}

[data-theme="dark"] .metric-label {
  color: rgba(241, 245, 249, 0.65);
}

[data-theme="light"] .metric-label {
  color: #2F4160;
  letter-spacing: 0.2em;
}

.metric-value {
  color: #0f172a;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] .metric-value {
  color: #f8fafc;
  text-shadow: 0 0 12px rgba(251, 191, 36, 0.35);
}
.clash-highlight-entry {
  color: #1f2937;
}

[data-theme="dark"] .clash-highlight-entry {
  color: #f8fafc;
}
[data-theme="light"] .bg-brand-primary {
  background: linear-gradient(135deg, #4F46E5, #3B82F6) !important;
  color: #FFFFFF !important;
  box-shadow: 0 12px 24px -18px rgba(59, 130, 246, 0.4);
}

[data-theme="light"] .hover\:bg-brand-secondary:hover {
  background: linear-gradient(135deg, #4338CA, #2563EB) !important;
}

[data-theme="light"] .text-brand-primary {
  color: #1E3A8A !important;
}
[data-theme="light"] .shadow-\[0_16px_32px_-20px_rgba\(8,15,31,0\.7\)\] {
  box-shadow: 0 18px 34px -24px rgba(15, 23, 42, 0.2) !important;
}
[data-theme="light"] .quick-actions-card {
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.95), rgba(236, 244, 255, 0.92)) !important;
  color: #10213A !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
  box-shadow: 0 16px 34px -28px rgba(15, 23, 42, 0.22) !important;
}

[data-theme="light"] .quick-action-btn {
  border-color: rgba(148, 163, 184, 0.35) !important;
  color: #20304C !important;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.96), rgba(226, 232, 240, 0.92)) !important;
  box-shadow: 0 10px 18px -14px rgba(15, 23, 42, 0.18);
}

[data-theme="light"] .quick-action-btn svg {
  color: #64748B !important;
}

[data-theme="light"] .quick-action-btn:hover {
  background: linear-gradient(135deg, rgba(241, 245, 255, 0.98), rgba(209, 213, 219, 0.96)) !important;
  color: #1E293B !important;
}

[data-theme="light"] .quick-actions-card .bg-brand-surfaceSubtle\/70,
[data-theme="light"] .quick-actions-card .bg-brand-surfaceRaised\/60 {
  background-color: #ffffff !important;
  color: #1F2937 !important;
}

[data-theme="light"] .quick-actions-card .bg-brand-surfaceRaised\/80 {
  background-color: rgba(241, 245, 249, 0.92) !important;
  color: #1F2937 !important;
}

[data-theme="light"] .quick-actions-card .text-slate-200,
[data-theme="light"] .quick-actions-card .text-slate-300,
[data-theme="light"] .quick-actions-card .text-slate-400 {
  color: #475569 !important;
}
[data-theme="light"] .command-rail-card {
  background: #ffffff !important;
  color: #10213A !important;
  border-color: rgba(148, 163, 184, 0.35) !important;
  box-shadow: 0 24px 46px -30px rgba(15, 23, 42, 0.22) !important;
}

[data-theme="light"] .command-rail-card p,
[data-theme="light"] .command-rail-card span,
[data-theme="light"] .command-rail-card div {
  color: #20304C !important;
}

[data-theme="light"] .command-rail-card .text-slate-100,
[data-theme="light"] .command-rail-card .text-slate-200,
[data-theme="light"] .command-rail-card .text-slate-300 {
  color: #364d6b !important;
}

[data-theme="light"] .command-rail-card .bg-brand-surfaceSubtle,
[data-theme="light"] .command-rail-card .bg-brand-surfaceSubtle\/70,
[data-theme="light"] .command-rail-card .bg-brand-surfaceSubtle\/60 {
  background-color: rgba(226, 232, 240, 0.9) !important;
  color: #142136 !important;
}

[data-theme="light"] .command-rail-card .hover\:bg-brand-surfaceRaised:hover,
[data-theme="light"] .command-rail-header .hover\:bg-brand-surfaceSubtle\/80:hover {
  background-color: rgba(203, 213, 225, 0.92) !important;
  color: #142136 !important;
}
[data-theme="light"] .bg-emerald-400\/20 {
  background-color: rgba(16, 185, 129, 0.18) !important;
  color: #047857 !important;
}

[data-theme="light"] .bg-amber-400\/20 {
  background-color: rgba(251, 191, 36, 0.22) !important;
  color: #B45309 !important;
}

[data-theme="light"] .bg-rose-500\/20 {
  background-color: rgba(244, 63, 94, 0.18) !important;
  color: #B91C1C !important;
}
[data-theme="light"] .shadow-\[0_24px_55px_-30px_rgba\(0,0,0,0\.3\)\] {
  box-shadow: 0 28px 52px -32px rgba(15, 23, 42, 0.22) !important;
}
[data-theme="light"] .command-rail-header {
  background: #f8fafc !important;
  border-color: rgba(203, 213, 225, 0.65) !important;
  color: #1E293B !important;
  box-shadow: 0 18px 32px -26px rgba(15, 23, 42, 0.18) !important;
}

/* Keep header white text in light theme */
[data-theme="light"] .header-hero,
[data-theme="light"] .header-hero * {
  color: #ffffff !important;
}

[data-theme="light"] .command-rail-header .text-slate-100,
[data-theme="light"] .command-rail-header .text-slate-200,
[data-theme="light"] .command-rail-header .text-slate-300,
[data-theme="light"] .command-rail-header .text-slate-400 {
  color: #1E293B !important;
}

[data-theme="light"] .command-rail-header .bg-brand-surfaceSubtle {
  background-color: rgba(226, 232, 240, 0.85) !important;
  color: #1E293B !important;
}
[data-theme="light"] .text-slate-400.uppercase,
[data-theme="light"] .text-slate-500.uppercase {
  color: #2F4160 !important;
}


/* ========================================
   Accessibility Enhancements
   ======================================== */

/* Enhanced focus visibility for all interactive elements */
*:focus-visible {
  outline: 3px solid #60A5FA !important;
  outline-offset: 3px !important;
  box-shadow: 0 0 0 5px rgba(59, 130, 246, 0.25) !important;
}

button:focus-visible,
a:focus-visible {
  outline: 3px solid #60A5FA !important;
  outline-offset: 2px !important;
}

/* Minimum touch target sizes for accessibility */
button, a, input[type="checkbox"], input[type="radio"], select {
  min-height: 44px;
  min-width: 44px;
}

button:has(svg:only-child) {
  min-height: 44px;
  min-width: 44px;
  padding: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Mobile touch targets */
@media (max-width: 768px) {
  button, a.button {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Enhanced text contrast in dark mode */
[data-theme="dark"] .text-slate-400 {
  color: #B0C5DC !important;
}

[data-theme="dark"] .text-slate-500 {
  color: #98ABBD !important;
}

[data-theme="dark"] .metric-label {
  color: rgba(241, 245, 249, 0.90) !important;
  font-weight: 600;
}
